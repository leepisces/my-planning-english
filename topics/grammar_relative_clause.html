<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 23 - Relative clauses / participles Mind Map</title>
    <link rel="stylesheet" href="css/grammar.css">
</head>
<body>
    <div class="mindmap-container">
        <div class="mindmap">
            <!-- Connection lines -->
            <div class="line line-1"></div>
            <div class="line line-2"></div>
            <div class="line line-3"></div>
            <div class="line line-4"></div>
            <div class="line line-5"></div>
            <div class="line line-6"></div>
            <div class="line line-7"></div>
            <div class="line line-8"></div>
            
            <!-- Center node -->
            <div class="center-node">
                UNIT 23<br>RELATIVE CLAUSES<br>& PARTICIPLES
            </div>
            
            <!-- Branch 1: Relative Pronouns -->
            <div class="branch branch-1">
                <div class="branch-title">üîó RELATIVE PRONOUNS</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <span class="clickable-word" data-word="which">which</span> - for things and animals
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="who">who</span> - for people
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="when">when</span> - for times
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="where">where</span> - for places
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="why">why</span> - for reasons
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="whom">whom</span> - for people (object)
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="whose">whose</span> - for possession
                    </div>
                </div>
            </div>
            
            <!-- Branch 2: Non-defining Relative Clauses -->
            <div class="branch branch-2">
                <div class="branch-title">üìù NON-DEFINING RELATIVE CLAUSES</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <strong>Purpose:</strong> Give extra information
                    </div>
                    <div class="usage-item">
                        <strong>Rule:</strong> Always use <span class="clickable-word" data-word="commas">commas</span>
                    </div>
                    <div class="usage-item">
                        <strong>Cannot:</strong> Leave out relative pronoun
                    </div>
                    <div class="usage-item">
                        <strong>Cannot:</strong> Use <span class="clickable-word" data-word="that">"that"</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="which_sentence">Which</span> can refer to whole sentence
                    </div>
                </div>
            </div>
            
            <!-- Branch 3: Defining Relative Clauses -->
            <div class="branch branch-3">
                <div class="branch-title">üéØ DEFINING RELATIVE CLAUSES</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <strong>Purpose:</strong> Identify which one
                    </div>
                    <div class="usage-item">
                        <strong>Rule:</strong> <span class="clickable-word" data-word="no_commas">No commas</span>
                    </div>
                    <div class="usage-item">
                        <strong>Can:</strong> Use <span class="clickable-word" data-word="that_defining">"that"</span>
                    </div>
                    <div class="usage-item">
                        <strong>Can:</strong> <span class="clickable-word" data-word="omit_pronoun">Omit pronoun</span> (when object)
                    </div>
                    <div class="usage-item">
                        <strong>Note:</strong> No preposition with where/when
                    </div>
                </div>
            </div>
            
            <!-- Branch 4: Formal vs Informal -->
            <div class="branch branch-4">
                <div class="branch-title">üé≠ FORMAL vs INFORMAL</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <strong>Formal:</strong> <span class="clickable-word" data-word="whom_formal">whom</span> after preposition
                    </div>
                    <div class="usage-item">
                        <strong>Informal:</strong> <span class="clickable-word" data-word="who_informal">who</span> + preposition at end
                    </div>
                    <div class="usage-item">
                        <strong>Alternative:</strong> <span class="clickable-word" data-word="preposition_which">preposition + which</span>
                    </div>
                    <div class="usage-item">
                        <strong>Where:</strong> <span class="clickable-word" data-word="where_alternative">in which</span>
                    </div>
                    <div class="usage-item">
                        <strong>When:</strong> <span class="clickable-word" data-word="when_alternative">in which</span>
                    </div>
                </div>
            </div>
            
            <!-- Branch 5: Present Participles -->
            <div class="branch branch-5">
                <div class="branch-title">‚ö° PRESENT PARTICIPLES (-ing)</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <span class="clickable-word" data-word="preposition_participle">After prepositions</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="reason_participle">Explain reason</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="simultaneous_action">Simultaneous actions</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="replace_relative">Replace relative clauses</span>
                    </div>
                </div>
            </div>
            
            <!-- Branch 6: Past Participles -->
            <div class="branch branch-6">
                <div class="branch-title">üîÑ PAST PARTICIPLES (-ed)</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <span class="clickable-word" data-word="past_replace_relative">Replace relative clauses</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="passive_alternative">Alternative passive form</span>
                    </div>
                    <div class="usage-item">
                        <strong>Note:</strong> Many irregular forms
                    </div>
                </div>
            </div>
            
            <!-- Branch 7: Perfect Participles -->
            <div class="branch branch-7">
                <div class="branch-title">‚ú® PERFECT PARTICIPLES (having + past)</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <span class="clickable-word" data-word="perfect_preposition">After prepositions</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="perfect_reason">Explain reason</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="sequence_actions">Past actions in sequence</span>
                    </div>
                </div>
            </div>
            
            <!-- Branch 8: Watch Out! -->
            <div class="branch branch-8">
                <div class="branch-title">‚ö†Ô∏è WATCH OUT!</div>
                <div class="branch-content">
                    <div class="usage-item">
                        <span class="clickable-word" data-word="same_subject">Same subject</span> rule
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="no_double_subject">No double subject</span>
                    </div>
                    <div class="usage-item">
                        <span class="clickable-word" data-word="comma_rule">Comma placement</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Legend -->
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e74c3c;"></div>
                <span>Relative pronouns</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #3498db;"></div>
                <span>Non-defining clauses</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f39c12;"></div>
                <span>Defining clauses</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #27ae60;"></div>
                <span>Participles</span>
            </div>
        </div>
        
        <!-- Tips -->
        <div class="tips">
            üí° <strong>M·∫πo h·ªçc:</strong> Click v√†o t·ª´ b·∫•t k·ª≥ ƒë·ªÉ xem v√≠ d·ª• chi ti·∫øt v√† c√°ch s·ª≠ d·ª•ng! 
            H·ªçc theo nh√≥m m√†u ƒë·ªÉ d·ªÖ ph√¢n bi·ªát c√°c lo·∫°i m·ªánh ƒë·ªÅ.
        </div>
        
        <!-- Popup overlay -->
        <div class="popup-overlay" id="popupOverlay"></div>
        
        <!-- Popup -->
        <div class="popup" id="popup">
            <div class="popup-close" id="popupClose">&times;</div>
            <div class="popup-header" id="popupHeader">Word</div>
            <div class="popup-type" id="popupType">Type</div>
            <div class="popup-meaning" id="popupMeaning">Meaning</div>
            <div class="popup-examples" id="popupExamples">
                <h4>üìù V√≠ d·ª• s·ª≠ d·ª•ng:</h4>
                <div id="examplesList"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Comprehensive word data with examples
        const wordData = {
            which: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ ƒë·ªì v·∫≠t v√† ƒë·ªông v·∫≠t trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "Did you see the film which was on TV last night?", vi: "B·∫°n c√≥ xem b·ªô phim chi·∫øu tr√™n TV t·ªëi qua kh√¥ng?" },
                    { en: "The book which I bought is very interesting.", vi: "Cu·ªën s√°ch m√† t√¥i mua r·∫•t th√∫ v·ªã." },
                    { en: "She lost the keys which were on the table.", vi: "C√¥ ·∫•y l√†m m·∫•t ch√¨a kh√≥a ƒë·ªÉ tr√™n b√†n." }
                ]
            },
            who: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ ng∆∞·ªùi trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "Tom Davies, who is appearing in concert this week, is with me.", vi: "Tom Davies, ng∆∞·ªùi ƒëang bi·ªÉu di·ªÖn h√≤a nh·∫°c tu·∫ßn n√†y, ƒëang ·ªü v·ªõi t√¥i." },
                    { en: "The man who called you is my brother.", vi: "Ng∆∞·ªùi ƒë√†n √¥ng g·ªçi cho b·∫°n l√† anh trai t√¥i." },
                    { en: "Students who work hard will succeed.", vi: "H·ªçc sinh n√†o chƒÉm ch·ªâ s·∫Ω th√†nh c√¥ng." }
                ]
            },
            when: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ th·ªùi gian trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "Do you remember the day when we met?", vi: "B·∫°n c√≥ nh·ªõ ng√†y ch√∫ng ta g·∫∑p nhau kh√¥ng?" },
                    { en: "2020 was the year when everything changed.", vi: "2020 l√† nƒÉm m√† m·ªçi th·ª© ƒë·ªÅu thay ƒë·ªïi." },
                    { en: "I'll never forget the moment when I graduated.", vi: "T√¥i s·∫Ω kh√¥ng bao gi·ªù qu√™n kho·∫£nh kh·∫Øc t√¥i t·ªët nghi·ªáp." }
                ]
            },
            where: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ ƒë·ªãa ƒëi·ªÉm trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "This is the place where they filmed Citizen Kane.", vi: "ƒê√¢y l√† n∆°i h·ªç quay phim Citizen Kane." },
                    { en: "The house where I was born is very old.", vi: "Ng√¥i nh√† n∆°i t√¥i sinh ra r·∫•t c≈©." },
                    { en: "London is the city where I want to live.", vi: "London l√† th√†nh ph·ªë m√† t√¥i mu·ªën s·ªëng." }
                ]
            },
            why: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ l√Ω do trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "That's the reason why he's so popular.", vi: "ƒê√≥ l√† l√Ω do t·∫°i sao anh ·∫•y n·ªïi ti·∫øng." },
                    { en: "I don't understand the reason why she left.", vi: "T√¥i kh√¥ng hi·ªÉu l√Ω do t·∫°i sao c√¥ ·∫•y r·ªùi ƒëi." },
                    { en: "The reason why I'm here is to help you.", vi: "L√Ω do t√¥i ·ªü ƒë√¢y l√† ƒë·ªÉ gi√∫p b·∫°n." }
                ]
            },
            whom: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ ng∆∞·ªùi l√†m t√¢n ng·ªØ trong m·ªánh ƒë·ªÅ quan h·ªá (formal)",
                examples: [
                    { en: "Is that the man whom we saw at the cinema?", vi: "ƒê√≥ c√≥ ph·∫£i l√† ng∆∞·ªùi ƒë√†n √¥ng m√† ch√∫ng ta ƒë√£ g·∫∑p ·ªü r·∫°p chi·∫øu phim kh√¥ng?" },
                    { en: "Charlie Chaplin was a genius to whom all comedians owe a great deal.", vi: "Charlie Chaplin l√† m·ªôt thi√™n t√†i m√† t·∫•t c·∫£ di·ªÖn vi√™n h√†i ƒë·ªÅu mang ∆°n r·∫•t nhi·ªÅu." },
                    { en: "The woman whom you met is my teacher.", vi: "Ng∆∞·ªùi ph·ª• n·ªØ m√† b·∫°n g·∫∑p l√† gi√°o vi√™n c·ªßa t√¥i." }
                ]
            },
            whose: {
                type: "Relative Pronoun",
                meaning: "D√πng ƒë·ªÉ ch·ªâ s·ªü h·ªØu trong m·ªánh ƒë·ªÅ quan h·ªá",
                examples: [
                    { en: "John Travolta, whose career goes back to the seventies, is my guest.", vi: "John Travolta, ng∆∞·ªùi c√≥ s·ª± nghi·ªáp t·ª´ nh·ªØng nƒÉm 70, l√† kh√°ch m·ªùi c·ªßa t√¥i." },
                    { en: "The student whose book was stolen is crying.", vi: "H·ªçc sinh b·ªã m·∫•t s√°ch ƒëang kh√≥c." },
                    { en: "I know a woman whose husband is a doctor.", vi: "T√¥i bi·∫øt m·ªôt ng∆∞·ªùi ph·ª• n·ªØ c√≥ ch·ªìng l√† b√°c sƒ©." }
                ]
            },
            commas: {
                type: "Grammar Rule",
                meaning: "M·ªánh ƒë·ªÅ quan h·ªá kh√¥ng x√°c ƒë·ªãnh ph·∫£i c√≥ d·∫•u ph·∫©y ngƒÉn c√°ch",
                examples: [
                    { en: "‚úì Megamonsters, which was filmed in New York, is disappointing.", vi: "‚úì Megamonsters, ƒë∆∞·ª£c quay ·ªü New York, th·∫≠t th·∫•t v·ªçng." },
                    { en: "‚úó Megamonsters which was filmed in New York is disappointing.", vi: "‚úó Thi·∫øu d·∫•u ph·∫©y - sai ng·ªØ ph√°p." },
                    { en: "‚úì My brother, who lives in London, is visiting.", vi: "‚úì Anh trai t√¥i, ng∆∞·ªùi s·ªëng ·ªü London, ƒëang ƒë·∫øn thƒÉm." }
                ]
            },
            that: {
                type: "Grammar Rule",
                meaning: "Kh√¥ng ƒë∆∞·ª£c d√πng 'that' trong m·ªánh ƒë·ªÅ quan h·ªá kh√¥ng x√°c ƒë·ªãnh",
                examples: [
                    { en: "‚úó Megamonsters, that was filmed in New York, is disappointing.", vi: "‚úó Kh√¥ng ƒë∆∞·ª£c d√πng 'that' v·ªõi d·∫•u ph·∫©y." },
                    { en: "‚úì Megamonsters, which was filmed in New York, is disappointing.", vi: "‚úì Ph·∫£i d√πng 'which' thay v√¨ 'that'." },
                    { en: "‚úì The film that I watched was great. (defining clause)", vi: "‚úì B·ªô phim m√† t√¥i xem r·∫•t hay. (m·ªánh ƒë·ªÅ x√°c ƒë·ªãnh)" }
                ]
            },
            which_sentence: {
                type: "Grammar Point",
                meaning: "'Which' c√≥ th·ªÉ ch·ªâ c·∫£ c√¢u tr∆∞·ªõc ƒë√≥",
                examples: [
                    { en: "We got tickets for the concert, which was very lucky.", vi: "Ch√∫ng t√¥i c√≥ v√© xem h√≤a nh·∫°c, ƒëi·ªÅu ƒë√≥ r·∫•t may m·∫Øn." },
                    { en: "It started raining, which ruined our picnic.", vi: "Tr·ªùi b·∫Øt ƒë·∫ßu m∆∞a, ƒëi·ªÅu ƒë√≥ l√†m h·ªèng bu·ªïi d√£ ngo·∫°i." },
                    { en: "He passed the exam, which surprised everyone.", vi: "Anh ·∫•y ƒë·∫≠u k·ª≥ thi, ƒëi·ªÅu ƒë√≥ l√†m m·ªçi ng∆∞·ªùi ng·∫°c nhi√™n." }
                ]
            },
            no_commas: {
                type: "Grammar Rule",
                meaning: "M·ªánh ƒë·ªÅ quan h·ªá x√°c ƒë·ªãnh kh√¥ng c√≥ d·∫•u ph·∫©y",
                examples: [
                    { en: "‚úì This is the DVD which I told you about.", vi: "‚úì ƒê√¢y l√† ƒëƒ©a DVD m√† t√¥i n√≥i v·ªõi b·∫°n." },
                    { en: "‚úì The book that I'm reading is excellent.", vi: "‚úì Cu·ªën s√°ch m√† t√¥i ƒëang ƒë·ªçc r·∫•t tuy·ªát." },
                    { en: "‚úì People who exercise regularly are healthier.", vi: "‚úì Nh·ªØng ng∆∞·ªùi t·∫≠p th·ªÉ d·ª•c ƒë·ªÅu ƒë·∫∑n kh·ªèe m·∫°nh h∆°n." }
                ]
            },
            simultaneous_action: {
                type: "Present Participle",
                meaning: "Di·ªÖn t·∫£ h√†nh ƒë·ªông x·∫£y ra ƒë·ªìng th·ªùi",
                examples: [
                    { en: "Walking home, I met an old friend.", vi: "Khi ƒëang ƒëi b·ªô v·ªÅ nh√†, t√¥i g·∫∑p m·ªôt ng∆∞·ªùi b·∫°n c≈©." },
                    { en: "She hurt her back lifting the box.", vi: "C√¥ ·∫•y b·ªã ƒëau l∆∞ng khi n√¢ng h·ªôp." },
                    { en: "Watching TV, I fell asleep.", vi: "Khi ƒëang xem TV, t√¥i ƒë√£ ng·ªß thi·∫øp ƒëi." }
                ]
            }
        };

        // Function to show popup with word data
        function showPopup(word) {
            const data = wordData[word];
            if (!data) return;
            
            document.getElementById('popupHeader').textContent = word;
            document.getElementById('popupType').textContent = data.type;
            document.getElementById('popupMeaning').textContent = data.meaning;
            
            const examplesList = document.getElementById('examplesList');
            examplesList.innerHTML = '';
            
            data.examples.forEach(example => {
                const exampleDiv = document.createElement('div');
                exampleDiv.className = 'example';
                
                const enDiv = document.createElement('div');
                enDiv.className = 'example-en';
                enDiv.textContent = example.en;
                
                const viDiv = document.createElement('div');
                viDiv.className = 'example-vi';
                viDiv.textContent = example.vi;
                
                exampleDiv.appendChild(enDiv);
                exampleDiv.appendChild(viDiv);
                examplesList.appendChild(exampleDiv);
            });
            
            document.getElementById('popup').style.display = 'block';
            document.getElementById('popupOverlay').style.display = 'block';
        }
        
        // Add event listeners to clickable words
        document.addEventListener('DOMContentLoaded', function() {
            const clickableWords = document.querySelectorAll('.clickable-word');
            clickableWords.forEach(word => {
                word.addEventListener('click', function() {
                    const wordId = this.getAttribute('data-word');
                    showPopup(wordId);
                });
            });
            
            // Close popup
            document.getElementById('popupClose').addEventListener('click', function() {
                document.getElementById('popup').style.display = 'none';
                document.getElementById('popupOverlay').style.display = 'none';
            });
            
            document.getElementById('popupOverlay').addEventListener('click', function() {
                document.getElementById('popup').style.display = 'none';
                document.getElementById('popupOverlay').style.display = 'none';
            });
        });
    </script>
</body>
</html>
